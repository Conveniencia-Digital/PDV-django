{% extends 'dashboard/pagina-inicial.html' %}
{% load relatorioproduto %}

{% block style %}
<style>
    tr.htmx-swapping td {
        opacity: 0;
        transition: opacity 300ms ease-out;
    }
    .card {
        max-width: 20rem; 
        box-shadow: 5px 5px 15px 0px rgba(4, 4, 4, 0.15);
        margin-bottom: 30px;

    }
    .card .card-text {
        margin: 30px auto ;
    }
    .table {
        font-size: 20px;
    }
    .btn {
        box-shadow: 5px 5px 15px 0px rgba(4, 4, 4, 0.15);
        font-size: 20px;
    }
    .card-text {
      font-size: 20px;
    }
</style>
{% endblock style %}
{% block titulo %}
  Produtos
{% endblock titulo %}

{% block conteudo %}
<div class="row" id="relatorio-peca">
  <div class="col-sm-3">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Produtos em estoque</h5>
        <p class="card-text">{% quantidade_produtos request %}</p>
      </div>
    </div>
  </div>
  <div class="col-sm-3">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Preço de custo</h5>
        <p class="card-text"><sup>R$</sup>{% custo_total_produto request %}</p>
      </div>
    </div>
  </div>
  <div class="col-sm-3">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Preço de venda</h5>
        <p class="card-text"><sup>R$</sup>{% total_produtos request %}</p>
      </div>
    </div>
  </div>
  <div class="col-sm-3">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Seu Lucro</h5>
        <p class="card-text"><sup>R$</sup>{% lucro_total_produtos request %} - <b>(%{% margem_de_lucro_produto request %})</b></p>
      </div>
    </div>
  </div>
</div>
<div class="row"><div>
    <a
           
            class="btn btn-outline-primary"
            data-bs-toggle="modal"
            data-bs-target="#staticBackdrop"
            hx-get="{% url 'criar-produtos' %}"
            hx-target="#adicionar-conteudo"
            hx-swap="innerHTML"> Cadastrar produto</a>
</div>
<div class="table-responsive" style="padding-top:18px">
    <table class="table table-borderless table-hover" style="box-shadow: 2px 2px 15px 0px rgba(4, 4, 4, 0.15);">
        <thead style="border-bottom: 0.15px solid rgb(229, 224, 224)">
        <tr>
            <th>Qtd.</th>
            <th>Produto</th>
            <th>Preço venda</th>
            <th>Ações</th>
        </tr>
        </thead>   
        <tbody id="produto-Tbody">
            {% include "produto/tabela/tabela-produto.html" %}
        </tbody>
    </table>

</div>

{% include "produto/modais-vazios/modal-cadastrar-produto.html" %}
{% include "produto/modais-vazios/modal-alerta.html" %}
{% include "produto/modais-vazios/modal-alerta-apagar.html" %}
{% include "produto/modais-vazios/modal-alerta-editar.html" %}
{% include "produto/modais-vazios/modal-detalhe-produtos.html" %}

{% endblock conteudo %}




